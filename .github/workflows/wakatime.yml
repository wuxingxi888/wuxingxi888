name: WakaTime Readme

on:
    schedule:
        # 每天 UTC 时间 0:00 运行（北京时间 8:00）
        - cron: "0 0 * * *"
    workflow_dispatch:

jobs:
    update-readme:
        name: Update Readme with WakaTime Stats
        runs-on: ubuntu-latest
        permissions:
            contents: write
        steps:
            - name: Checkout repository
              uses: actions/checkout@v3

            - name: Update README with WakaTime Stats
              uses: athul/waka-readme@master
              with:
                  WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}
                  GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
